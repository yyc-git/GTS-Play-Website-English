---
sidebar_position: 1
---

# Develop, Test, and Publish Your First Mod

This article explains how to develop, test, and publish a career mod (career-test1). The same process applies to other types of mods.

This career mod includes the following career features:
- Maximum health increased by 50%
- Damage increased by 1% for every 50 coins held
- Damage reduced by 100%. After being attacked, damage increased by 50% for 20 seconds

<!-- For detailed information about career mods, please refer to [Career Mod](Career%20Mod.md) -->

<!-- ## 1. Mod Development Environment Preparation

Before starting to develop mods, please ensure that you have completed [Development Environment Preparation](Introduction#Development Environment Preparation) -->

## Career Mod Development Steps

### Create Mod Project

1. Create a new folder named career-test1 in the `mods/` directory
2. Copy the basic configuration files from an existing mod (`package.json`, `tsconfig.json`, `webpack.config.js`, etc.)
3. Modify the configuration files to suit your new mod

The directory structure of career-test1/ should be as follows:
```plaintext
├── src/    # Mod source code directory
│   ├── asset/    # Mod asset directory
        │── career_test1_icon.png    # Career icon (displayed on the game's "Select Career" page)
│   └── other/    # Other directories
        │── icon.jpg    # Mod icon (displayed on game's "Mod" related pages)
│   └── Main.ts    # Mod main entry file
├── package.json    # Mod configuration file
├── README.md    # Mod description document
```

### Configure `package.json`

`package.json` is the core configuration file of the mod, containing basic information and dependency relationships of the mod:

```json
{
    "name": "career-test1",
    "version": "0.0.1",
    "main": "./dist/static/js/main.js",
    "mod": {
        "protocolName": "career-protocol",
        "author": "Official",
        "displayName_cn": "职业（测试1）",
        "displayName_en": "Career(Test 1)",
        "repoLink": "https://github.com/yyc-git/GiantessPlay-Mod/tree/main/mods/career-test1",
        "icon": "./dist/other/icon.jpg",
        "isPublic": true,
        "dependentMods": [
            "career-feature-increasefullhp",
            "career-feature-increasedamagebycoin",
            "career-feature-reducedamagebutincreasewhendamaged"
        ]
    },
    // Other configurations...
}
```

Key configuration items explanation:
- `name`: Unique identifier of the mod
- `version`: Version number of the mod (following semantic versioning), needs to be updated each time it is published
- `main`: Entry file of the mod (usually `./dist/static/js/main.js`), which is generated by executing `npm run webpack` in the root directory of the mod project
- `mod.protocolName`: Protocol name used by the mod (career mod uses `career-protocol`)
- `mod.displayName_cn/en`: Display name of the mod in the game, in Chinese and English respectively
- `mod.repoLink`: Repository link to publicly share the mod project
- `mod.icon`: Path to the mod's icon file (usually `./dist/other/icon.jpg`)
- `mod.isPublic`: Whether the mod is public (set to `false` during development and testing)
- `mod.dependentMods`: List of other mods that this mod depends on. These mods should already be published

### Implement Core Mod Functions

The core functionality of the career mod is implemented in the `src/Main.ts` file, which needs to implement two functions: getBlockService (implements mod services) and createBlockState (creates mod data). For detailed introduction, please refer to [Career Mod](Career%20Mod.md#5-implementation-code-explanation-maints)

<!-- 
Core functionality explanation:
- `languageKey`: Define language keys used by the mod
- `_getTextData`: Provide data for multi-language support
- `getBlockService`: Implement core services of the career mod
  - `getCareerData`: Return basic information of the career (title, icon, required gems, etc.)
  - `getCareerFeatureData`: Return career features and their parameter configurations
  - `getCharacterType`: Specify the character type applicable to the career (Giantess, Little Man, or both)
 -->

### Prepare Development Environment

- Execute `npm install` in the mod project root directory (mods/career-test1/) to install dependencies
- Execute `npm run watch` in the mod project root directory to monitor file changes and perform TypeScript compilation checks

## Test Mod

### Local Testing

1. Ensure `isPublic` in `package.json` is set to `false`
2. Execute `npm run webpack` and `npm run publish_mod` in sequence in the mod project root directory to package and publish the mod
3. Click [Enter](https://gts-play.cn?mod) to enter the game (debug mode)
4. In Mod -> Mod Store, subscribe to the published mod
5. On the select career page, select the new career: Career (Test 1), then enter the game scene to test the effect of this career

### Debugging Tips

- Use `console.log` in mod functions to print data for easy debugging
- In debug mode, you can press the `0` key in the game scene to bring up the debug panel and call debugging commands such as "Generate Army"

## Publish Mod

### Prepare for Publishing

1. Ensure the mod functions are complete and tested
2. Write detailed mod documentation: README.md

### Execute Publishing

1. Set `isPublic` in `package.json` to `true`
2. Update the mod version number (following semantic versioning)
3. Execute `npm run webpack` and `npm run publish_mod` in sequence in the mod project root directory to package and publish the mod
4. Other players can find and subscribe to your mod in the game's Mod -> Mod Store

<!-- ## Notes

- All mods are developed using TypeScript, ensure the code complies with TypeScript syntax specifications
- The size of the mod should be as small as possible to avoid affecting game performance
- Follow the game's design style and balance principles, do not create overly powerful mods
- Update mods regularly to ensure compatibility with the latest game version
- Add appropriate error handling and boundary checks to the mod
- Provide clear mod descriptions and usage guidelines
 -->

<!-- ## 7. Common Issues

### 7.1 Mod Loading Failed

- Check if the dependency relationships of the mod are correct
- Ensure the mod version is compatible with the game version
- Check error messages in the browser console

### 7.2 Feature Effect Not Working

- Check if the `applyFunc` implementation of the feature is correct
- Ensure the feature is applicable to the current character type
- Check if the feature values are within a reasonable range

### 7.3 Multi-language Support Issues

- Ensure all text provides both Chinese and English versions
- Use correct language keys and text formats
- Test display effects in different language environments
 -->

---

Through the above steps, you have learned how to develop, test, and publish a career mod. Wish you a smooth development!